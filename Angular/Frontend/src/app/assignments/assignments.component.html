<main class="container">
  <div class="btnAjout">
    <a routerLink="/add" routerLinkActive="active">
      <button mat-flat-button color="accent">
        Ajouter Assignment
      </button>
    </a>
  </div>

  <mat-form-field appearance="fill">
    <mat-label>Filtre</mat-label>
    <mat-select [(ngModel)]="filter">
      <mat-option value="all">Tous ({{allCount}})</mat-option>
      <mat-option value="rendus">Rendus ({{rendusCount}})</mat-option>
      <mat-option value="nonRendus">Non Rendus ({{nonRendusCount}})</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Rechercher un assignment</mat-label>
    <input matInput [(ngModel)]="searchTerm" (input)="getData(1)">
  </mat-form-field>

  <mat-card *ngFor="let a of filteredAssignments">
    <a routerLink="/assignment/{{a.id}}">
      <mat-card-header>
        <mat-card-title>{{ a.dateDeRendu | date }}</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p *ngIf="a.rendu" appRendu>{{ a.nom }} a été RENDU.</p>
        <p *ngIf="!a.rendu" appNonRendu>{{ a.nom }}, N'A PAS ÉTÉ RENDU.</p>
        <p>{{ a.nom }}</p>
        <p>Votrre note est de {{ a.note }}</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button>Actions</button>
      </mat-card-actions>
    </a>
  </mat-card>

  <mat-paginator [length]="this.count" [pageSizeOptions]="[this.limit]" [showFirstLastButtons]="true" (page)="handlePageEvent($event)">
  </mat-paginator>
</main>
